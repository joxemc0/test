(function(){"use strict";var t={4974:function(t,e,a){var r=a(5471),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.isAuthenticated?e("nav",[e("router-link",{attrs:{to:"/"}},[t._v("Inicio")]),e("router-link",{attrs:{to:"/tareas"}},[t._v("Tareas")]),e("button",{on:{click:t.logout}},[t._v("Cerrar Sesión")])],1):e("nav",[e("router-link",{attrs:{to:"/login"}},[t._v("Login")]),e("router-link",{attrs:{to:"/registro"}},[t._v("Registro")])],1),e("div",{staticClass:"main-content"},[e("router-view")],1)])},o=[],n=(a(4114),{name:"App",data(){return{isAuthenticated:!!localStorage.getItem("token")}},methods:{logout(){localStorage.removeItem("token"),this.isAuthenticated=!1,this.$router.push("/login")}},watch:{$route(){this.isAuthenticated=!!localStorage.getItem("token")}}}),i=n,l=a(1656),c=(0,l.A)(i,s,o,!1,null,null,null),u=c.exports,d=a(173),p=function(){var t=this;t._self._c;return t._m(0)},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"inicio"},[e("h2",[t._v("Bienvenido")]),e("p",[t._v("Esta es la página de inicio.")])])}],v={name:"InicioComponent",methods:{logout(){localStorage.removeItem("token"),this.$router.push("/login")}}},h=v,f=(0,l.A)(h,p,m,!1,null,"47391413",null),g=f.exports,b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("h2",[t._v("Login")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",[e("label",{attrs:{for:"username"}},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",[e("label",{attrs:{for:"password"}},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{attrs:{type:"submit"}},[t._v("Login")])])])},_=[],y=a(4335),k={name:"LoginComponent",data(){return{username:"",password:""}},methods:{async login(){try{const t=await y.A.post("http://localhost:3000/auth/login",{username:this.username,password:this.password});alert(t.data.message),localStorage.setItem("token",t.data.token),this.$router.push("/")}catch(t){console.error(t),alert("Error en el login")}}}},w=k,C=(0,l.A)(w,b,_,!1,null,"d4fb05dc",null),T=C.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"registro"},[e("h2",[t._v("Registro")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("div",[e("label",{attrs:{for:"username"}},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",[e("label",{attrs:{for:"password"}},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{attrs:{type:"submit"}},[t._v("Registrar")])])])},A=[],E={name:"RegistroComponent",data(){return{username:"",password:""}},methods:{async register(){try{const t=await y.A.post("http://localhost:3000/auth/register",{username:this.username,password:this.password});alert(t.data.message),this.$router.push("/login")}catch(t){console.error(t),alert("Error en el registro")}}}},$=E,P=(0,l.A)($,x,A,!1,null,"df57c5ee",null),q=P.exports,O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-4"},[e("h1",{staticClass:"text-center mb-4"},[t._v("Lista de Tareas")]),e("div",{staticClass:"d-flex justify-content-between mb-4"},[e("button",{staticClass:"btn btn-primary",on:{click:t.goToAgregar}},[t._v("Agregar Tarea")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control w-50",attrs:{type:"text",placeholder:"Buscar tareas"},domProps:{value:t.searchQuery},on:{input:[function(e){e.target.composing||(t.searchQuery=e.target.value)},t.fetchFilteredTasks]}})]),e("table",{staticClass:"table table-bordered"},[t._m(0),e("tbody",t._l(t.tasks,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.description))]),e("td",[t._v(t._s(a.completada?"Completada":"Pendiente"))]),e("td",[e("button",{staticClass:"btn btn-info mr-2",on:{click:function(e){return t.goToEditar(a.id)}}},[t._v("Editar")]),e("button",{staticClass:"btn btn-danger mr-2",on:{click:function(e){return t.deleteTask(a.id)}}},[t._v("Eliminar")]),e("button",{staticClass:"btn",class:a.completada?"btn-warning":"btn-success",on:{click:function(e){return t.confirmCompleteTask(a.id,a.completada)}}},[t._v(" "+t._s(a.completada?"Pendiente":"Completada")+" ")])])])})),0)])])},S=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Título")]),e("th",[t._v("Descripción")]),e("th",[t._v("Estado")]),e("th",[t._v("Acciones")])])])}];const L=y.A.create({baseURL:"http://localhost:3000/api"});var j=L,I={name:"ListarTareasComponent",data(){return{tasks:[],searchQuery:""}},created(){this.fetchTasks()},methods:{async fetchTasks(){const t=await j.get("/tasks");this.tasks=t.data},async fetchFilteredTasks(){const t=await j.get("/tasks/filtrar",{params:{query:this.searchQuery}});this.tasks=t.data},goToAgregar(){this.$router.push("/agregar")},goToEditar(t){this.$router.push(`/editar/${t}`)},async deleteTask(t){await j.delete(`/tasks/${t}`),this.fetchFilteredTasks()},async completeTask(t){await j.put(`/tasks/${t}/completada`),this.fetchFilteredTasks()},confirmCompleteTask(t,e){const a=e?"¿Está seguro de que desea marcar esta tarea como pendiente?":"¿Está seguro de que desea marcar esta tarea como completada?";confirm(a)&&this.completeTask(t)}}},N=I,D=(0,l.A)(N,O,S,!1,null,"3e9e5738",null),Q=D.exports,R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-4"},[e("h1",{staticClass:"text-center mb-4"},[t._v("Agregar Tarea")]),e("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.addTask.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Título")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar")])]),e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/tareas"}},[t._v("Volver al Listado de Tareas")])],1)},F=[],U={name:"AgregarComponent",data(){return{title:"",description:""}},methods:{async addTask(){await j.post("/tasks",{title:this.title,description:this.description}),this.$router.push("/tareas")}}},B=U,G=(0,l.A)(B,R,F,!1,null,"2e48216c",null),M=G.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-4"},[e("h1",{staticClass:"text-center mb-4"},[t._v("Editar Tarea")]),e("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.updateTask.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("Título")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"title",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Guardar Cambios")])]),e("router-link",{staticClass:"btn btn-secondary",attrs:{to:"/tareas"}},[t._v("Volver al Listado de Tareas")])],1)},z=[],H={name:"EditarComponent",data(){return{title:"",description:""}},created(){this.fetchTask()},methods:{async fetchTask(){try{const t=this.$route.params.id,e=await j.get(`/tasks/${t}`);this.title=e.data.title,this.description=e.data.description}catch(t){console.error("Error fetching task:",t)}},async updateTask(){try{const t=this.$route.params.id;await j.put(`/tasks/${t}`,{title:this.title,description:this.description}),this.$router.push("/tareas")}catch(t){console.error("Error updating task:",t)}}}},J=H,K=(0,l.A)(J,V,z,!1,null,"5c71a10e",null),W=K.exports;r.Ay.use(d.A);const X=[{path:"/",name:"Inicio",component:g},{path:"/login",name:"Login",component:T},{path:"/registro",name:"Registro",component:q},{path:"/tareas",name:"Tareas",component:Q,meta:{requiresAuth:!0}},{path:"/agregar",name:"Agregar",component:M,meta:{requiresAuth:!0}},{path:"/editar/:id",name:"Editar",component:W,meta:{requiresAuth:!0}}],Y=new d.A({mode:"history",routes:X});Y.beforeEach(((t,e,a)=>{const r=!!localStorage.getItem("token");t.matched.some((t=>t.meta.requiresAuth))&&!r?a({name:"Login"}):a()}));var Z=Y;r.Ay.config.productionTip=!1,new r.Ay({router:Z,render:t=>t(u)}).$mount("#app")}},e={};function a(r){var s=e[r];if(void 0!==s)return s.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,r,s,o){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],s=t[u][1],o=t[u][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(i=!1,o<n&&(n=o));if(i){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,s,o]}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var s,o,n=r[0],i=r[1],l=r[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(l)var u=l(a)}for(e&&e(r);c<n.length;c++)o=n[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},r=self["webpackChunkcliente"]=self["webpackChunkcliente"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(4974)}));r=a.O(r)})();
//# sourceMappingURL=app.b76a570c.js.map